---
layout: post
title: Spring中Bean的一生
category: ['Spring']
tags: ['Spring']
author: 景阳
email: jyjsjd@hotmail.com
description: Spring中Bean的一生
---

<img src="/assets/img/bean.png" width="800" height="400"/>

### 一、Bean 实例化策略——BeanWrapper
容器通过策略模式决定以何种方式实例化 Bean，通常通过*反射*或*CGLIB*。实例化策略模式的接口是 `InstantiationStrategy`。

* SimpleInstantiationStrategy：通过反射实例化对象，但**不支持***方法注入式*的对象实例化。
* CglibSubclassingInstantiationStrategy：以 CGLIB 动态字节码方式实现实例化，并不是直接返回对象实例，而是对象的包装，返回 `BeanWrapper` 实例。

`BeanWrapper` 的实现类 `BeanWrapperImpl` 同时直接或间接地继承了 `PropertyEditorRegistry` 和 `TypeConverter`，可以用到 `CustomEditorConfigurer` 转换类型。

<img src="/assets/img/beanwrapper.png" width="800" height="400"/>

### 二、Aware 接口

#### 1、BeanFactory

#### 2、ApplicationContext


### 三、BeanPostProcessor


### 四、InitializingBean和init-method


### 五、DisposableBean和destroy-method
